{% extends 'base.html' %}

{% block title %} Crear documento {% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
{% endblock %}

{% block content %} 
<body>
    <section class="theme py-4 py-xl-5">
        <div class="container py-5">
            <div class="row">
                <div class="col-md-8 col-xl-6 text-center mx-auto">
                    <h2 class="display-6 fw-bold mb-4">Crea un documento</h2>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-md-6">
                    <div>
                        <form enctype="multipart/form-data" class="p-3 p-xl-4" method="post">
                            {% csrf_token %} <!-- csrf token for basic security -->
                            <div>
                                <input name="title" style="margin-bottom: 15px;" class="form-control shadow" type="text" placeholder="TÃ­tulo del documento" aria-label="default input example">
                            </div>
                            <div class="mb-3">
                                <textarea id="message-1" class="shadow form-control" name="content" rows="6" maxlength="500" placeholder="Texto del documento"></textarea>
                            </div>
                            <!--
                            <div style="margin-bottom: 16px;" name="images"> 
                                <input type="file" id="image" name="image">
                                <div id="image-preview"></div>
                            </div>
                            -->
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key" id="keyInput" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key" aria-label="default input example">
                                <button type="button" id="visibilityButton" onclick="toggleVisibility()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            <div>
                                <button class="btn btn-primary shadow d-block w-100" type="submit" style="margin-top: 10px;">Guardar documento</button>
                            </div>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
<script>
    function toggleVisibility() {
      var keyInput = document.getElementById("keyInput");
      var visibilityButton = document.getElementById("visibilityButton");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
  </script>
{% endblock %}  
