{% extends 'base.html' %}

{% block title %} Crear documento {% endblock %}

{% block styles %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
{% endblock %}

{% block content %} 
<body>
    <section class="theme py-4 py-xl-5">
        <div class="container py-5">
            <div class="row">
                <div class="col-md-8 col-xl-6 text-center mx-auto">
                    <h2 class="display-6 fw-bold mb-4">Crea un documento</h2>
                </div>
            </div>
            <div class="row d-flex justify-content-center">
                <div class="col-md-6">
                    <div>
                        <form enctype="multipart/form-data" class="p-3 p-xl-4" method="post">
                            {% csrf_token %} <!-- csrf token for basic security -->
                            <div>
                                <input name="title" style="margin-bottom: 15px;" class="form-control shadow" type="text" placeholder="TÃ­tulo del documento" aria-label="default input example">
                            </div>
                            <div class="mb-3">
                                <textarea id="message-1" class="shadow form-control" name="content" rows="6" maxlength="500" placeholder="Texto del documento"></textarea>
                            </div>
                            <!--
                            <div style="margin-bottom: 16px;" name="images"> 
                                <input type="file" id="image" name="image">
                                <div id="image-preview"></div>
                            </div>
                            -->
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key1" id="keyInput" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key 1" aria-label="default input example">
                                <button type="button" id="visibilityButton1" onclick="toggleVisibility1()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key2" id="keyInput2" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key 2" aria-label="default input example">
                                <button type="button" id="visibilityButton2" onclick="toggleVisibility2()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key3" id="keyInput3" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key 3" aria-label="default input example">
                                <button type="button" id="visibilityButton3" onclick="toggleVisibility3()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key4" id="keyInput4" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key 4" aria-label="default input example">
                                <button type="button" id="visibilityButton4" onclick="toggleVisibility4()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            <div style="display: flex; align-items: center;">
                                <input name="secret_key5" id="keyInput5" style="margin-bottom: 0; flex: 1;" class="form-control shadow" type="password" placeholder="Ingresa tu secret key 5" aria-label="default input example">
                                <button type="button" id="visibilityButton5" onclick="toggleVisibility5()" style="margin-left: 10px; align-self: center;">
                                  <i class="fas fa-eye-slash"></i>
                                </button>
                            </div>
                            {% if error %}
                              <p style="color:rgb(176, 59, 59);">{{ error }}</p>
                            {% endif %}
                            <div>
                                <button class="btn btn-primary shadow d-block w-100" type="submit" style="margin-top: 10px;">Guardar documento</button>
                            </div>
                        </form>
                        
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block scripts %}
<script>
    function toggleVisibility1() {
      var keyInput = document.getElementById("keyInput");
      var visibilityButton = document.getElementById("visibilityButton1");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
    function toggleVisibility2() {
      var keyInput = document.getElementById("keyInput2");
      var visibilityButton = document.getElementById("visibilityButton2");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
    function toggleVisibility3() {
      var keyInput = document.getElementById("keyInput3");
      var visibilityButton = document.getElementById("visibilityButton3");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
    function toggleVisibility4() {
      var keyInput = document.getElementById("keyInput4");
      var visibilityButton = document.getElementById("visibilityButton4");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
    function toggleVisibility5() {
      var keyInput = document.getElementById("keyInput5");
      var visibilityButton = document.getElementById("visibilityButton5");
      
      if (keyInput.type === "password") {
        keyInput.type = "text";
        visibilityButton.querySelector("i").classList.remove("fa-eye-slash");
        visibilityButton.querySelector("i").classList.add("fa-eye");
      } else {
        keyInput.type = "password";
        visibilityButton.querySelector("i").classList.remove("fa-eye");
        visibilityButton.querySelector("i").classList.add("fa-eye-slash");
      }
    }
  </script>
{% endblock %}  
